import pathlib

Import('env')
for source in env.Glob('*.yaml'):
    target = pathlib.Path(str(source)).with_suffix('.ly')
    ly_single_target = env.LilypondSingle(target=str(target), source=source)
    env.Depends(ly_single_target, '../hyphen.txt') # rebuild if hyphen dictionary changed, but does not appear in sources
    env.Lilypond(target=str(target.with_suffix('.pdf')), source=ly_single_target) # Used for debugging


